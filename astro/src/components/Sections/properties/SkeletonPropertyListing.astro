<div id="loading-skeleton" class="skeleton-container">
  <section class="image-section-skeleton">
    <div class="main-image-box-skeleton skeleton-line skeleton-image-large">
    </div>

    <div class="gallery-thumbnails-skeleton">
      <div class="thumbnail-skeleton skeleton-line"></div>
      <div class="thumbnail-skeleton skeleton-line"></div>
      <div class="thumbnail-skeleton skeleton-line"></div>
    </div>
  </section>

  <header class="listing-header-skeleton">
    <div class="skeleton-line skeleton-title"></div>
    <div class="skeleton-line skeleton-address"></div>
    <div class="header-meta-skeleton">
      <div class="skeleton-line skeleton-price"></div>
      <div class="skeleton-line skeleton-tag"></div>
    </div>
  </header>

  <div class="listing-grid-skeleton">
    <div class="main-details-skeleton">
      <section class="key-facts-card-skeleton">
        <div class="key-facts-grid-skeleton">
          <div class="skeleton-line skeleton-key-fact"></div>
          <div class="skeleton-line skeleton-key-fact"></div>
          <div class="skeleton-line skeleton-key-fact"></div>
          <div class="skeleton-line skeleton-key-fact"></div>
        </div>
      </section>

      <section class="listing-section-skeleton">
        <div class="skeleton-line skeleton-subheader"></div>
        <div class="skeleton-line skeleton-text-full"></div>
        <div class="skeleton-line skeleton-text-full"></div>
        <div class="skeleton-line skeleton-text-half"></div>
      </section>
    </div>

    <div class="sidebar-wrapper-skeleton">
      <div class="sidebar-card-skeleton agent-card-skeleton">
        <div class="skeleton-line skeleton-subheader"></div>
        <div class="agent-info-skeleton">
          <div class="skeleton-line skeleton-agent-image"></div>
          <div class="skeleton-line skeleton-agent-name"></div>
          <div class="skeleton-line skeleton-agent-contact"></div>
        </div>
      </div>

      <div class="sidebar-card-skeleton fact-box-skeleton">
        <div class="skeleton-line skeleton-subheader"></div>
        <div class="fact-box-list-skeleton">
          <div class="skeleton-line skeleton-fact-term"></div>
          <div class="skeleton-line skeleton-fact-data"></div>
          <div class="skeleton-line skeleton-fact-term"></div>
          <div class="skeleton-line skeleton-fact-data"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  /* --- SKELETON BASE STYLES --- */

  .skeleton-container {
    /* Ensure the skeleton uses the same grid/layout as the real content */
    padding: var(--spacing-lg) 0; /* Adjust padding to match site-container */
  }

  /* Base style for all placeholder lines */
  .skeleton-line {
    background-color: var(
      --color-neutral-light-grey
    ); /* Light gray base color */
    border-radius: 4px; /* Soft edges */
    opacity: 0.8;
    margin: 8px 0; /* Vertical spacing between lines */
  }

  /* --- ANIMATION (Pulsing/Shimmering Effect) --- */

  .skeleton-line {
    /* Apply animation to all placeholder lines */
    animation: pulse 1.2s infinite ease-in-out;
  }

  @keyframes pulse {
    0% {
      opacity: 0.3;
    }
    50% {
      opacity: 0.9;
    }
    100% {
      opacity: 0.4;
    }
  }

  /* --- LAYOUT & SIZING STYLES (Mimicking Content) --- */

  /* 1. Header */
  .skeleton-title {
    height: 36px;
    width: 70%; /* Title length */
    margin-bottom: 16px;
  }
  .skeleton-address {
    height: 20px;
    width: 50%;
    margin-bottom: 12px;
  }
  .skeleton-price {
    height: 28px;
    width: 150px;
    display: inline-block;
  }
  .skeleton-tag {
    height: 28px;
    width: 80px;
    display: inline-block;
    margin-left: 12px;
  }
  .skeleton-subheader {
    height: 24px;
    width: 200px;
    margin-top: 24px;
    margin-bottom: 16px;
  }

  /* 2. Main Image and Thumbnails */
  .image-section-skeleton {
    display: flex;
    flex-direction: column;
  }
  .main-image-box-skeleton {
    width: 100%;
    height: 500px; /* Should match the height of your main-image-box */
    margin-bottom: 16px;
  }
  .gallery-thumbnails-skeleton {
    display: flex;
    gap: 10px;
    overflow: hidden;
  }
  .thumbnail-skeleton {
    width: 80px;
    min-width: 80px; /* Fixed size */
    height: 80px;
  }

  /* 3. Content Grid */
  .listing-grid-skeleton {
    display: grid;
    grid-template-columns: 2fr 1fr; /* Match your existing listing-grid layout */
    gap: 40px;
    margin-top: 30px;
  }

  /* Text Blocks */
  .skeleton-text-full {
    height: 18px;
    width: 100%;
  }
  .skeleton-text-half {
    height: 18px;
    width: 60%;
  }

  /* 4. Sidebar (Agent Card & Fact Box) */
  .sidebar-card-skeleton {
    padding: 20px;
    border: 1px solid #f0f0f0;
    border-radius: 8px;
    margin-bottom: 20px;
  }
  .skeleton-agent-image {
    width: 100px;
    height: 100px;
    border-radius: 50%; /* Circle shape */
    /* float: left;
    margin-right: 15px; */
  }
  .skeleton-agent-name {
    height: 20px;
    width: 150px;
    margin-top: 10px;
  }
  .skeleton-agent-contact {
    height: 16px;
    width: 120px;
  }
  .skeleton-button {
    clear: both; /* Clear float */
    height: 40px;
    width: 100%;
    margin-top: 20px;
  }
  .fact-box-list-skeleton {
    display: grid;
    grid-template-columns: max-content 1fr; /* Mimic the fact list alignment */
    gap: 8px 15px;
  }
  .skeleton-fact-term,
  .skeleton-fact-data {
    height: 16px;
  }
  .skeleton-fact-term {
    width: 80px;
  }
  .skeleton-fact-data {
    width: 100px;
  }

  /* Map Placeholder */
  .map-embed-container-skeleton {
    width: 100%;
    height: 300px; /* Match the map height */
    margin-top: 16px;
  }

  /* Key Facts Grid */
  .key-facts-grid-skeleton {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
    margin-top: 10px;
  }
  .skeleton-key-fact {
    height: 60px; /* Height to represent icon + text */
  }
</style>
