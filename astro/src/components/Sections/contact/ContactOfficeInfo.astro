---
import { Image } from "astro:assets";
import emailIcon from "/src/assets/images/email-icon-1.svg";
import phoneIcon from "/src/assets/images/phone-icon-1.svg";
import locationIcon from "/src/assets/images/location-icon-1.svg";
import clockIcon from "/src/assets/images/time-clock-1.svg";
---

<section id="contact-details-section" class="details-section">
  <div class="site-container padding-section">
    <div class="details-content-wrapper">
      <div class="map-embed-container">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2659.865080847406!2d16.282088576592464!3d48.189950971249225!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x476da7ed004e4f6b%3A0x51393baa636e11eb!2sAuhofstra%C3%9Fe%2078C%2F1%2C%201130%20Wien%2C%20Austria!5e0!3m2!1sen!2sza!4v1759068240888!5m2!1sen!2sza"
          style="border:0;"
          allowfullscreen=""
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"></iframe>
      </div>
      <div class="details-card">
        <div class="details-header-wrapper">
          <h3 class="heading-h3">Hier sind wir zuhause.</h3>
          <div class="padding-bottom padding-small"></div>
          <p class="details-subheader">
            Unser Büro im Westen Wiens – leicht zu finden und immer offen für
            ein persönliches Gespräch rund um Ihre Immobilie.
          </p>
          <div class="padding-bottom padding-medium"></div>
        </div>

        <div class="contact-items-list">
          <div class="contact-item">
            <Image
              src={emailIcon}
              loading="lazy"
              alt="Email Icon"
              class="item-icon"
            />
            <div class="contact-item-text">
              <p>office@yourdomain.at</p>
            </div>
          </div>

          <div class="contact-item">
            <Image
              src={phoneIcon}
              loading="lazy"
              alt="Phone Icon"
              class="item-icon"
            />
            <div class="contact-item-text">
              <p>+43 1 123 45 67</p>
            </div>
          </div>

          <div class="contact-item">
            <Image
              src={locationIcon}
              loading="lazy"
              alt="Location Icon"
              class="item-icon"
            />
            <div class="contact-item-text">
              <p>Hauptstraße 10</p>
              <p>1140 Wien, Österreich</p>
            </div>
          </div>

          <div class="contact-item contact-item-hours">
            <Image
              src={clockIcon}
              loading="lazy"
              alt="Time Clock Icon"
              class="item-icon"
            />
            <div class="contact-item-text">
              <p>Montag - Donnerstag: 9:00 - 16:00</p>
              <p>Freitag: 9:00 - 12:00</p>
              <div class="notice-text">
                Termin nach telefonischer Vereinbarung erbeten.
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  /* --- Details Section: Main Container --- */
  .details-section {
    position: relative;
    padding: var(--spacing-4xl) 0;
    /* padding-top: calc(var(--spacing-4xl) + 15vw); */
    background-color: var(--color-brand-medium-green);
  }

  .details-section::before {
    content: "";
    position: absolute;
    top: -0rem;
    left: 0;
    width: 100%;
    height: 35rem; /* Adjust this to control the height of the diagonal */
    background-color: var(
      --color-brand-medium-green
    ); /* Color of the section BELOW it */
    transform: skewY(-11deg); /* Adjust this value for the angle */
    transform-origin: top left;
    z-index: 10; /* Ensures the bottom wedge is on top */
  }

  /* --- Two-Column Layout --- */
  .details-content-wrapper {
    position: relative;
    display: flex;
    flex-direction: column; /* Stack on mobile */
    gap: var(--spacing-2xl);
    z-index: 10;
  }

  @media (min-width: 992px) {
    .details-content-wrapper {
      flex-direction: row; /* Side-by-side on desktop */
      justify-content: space-between;
      align-items: stretch;
    }
  }

  /* --- Details Card (Text and Icons) --- */
  .details-card {
    flex: 1; /* Allows the card to grow */
    color: var(--color-neutral-white);
    /* padding: var(--spacing-3xl); */
    border-radius: var(--border-radius);
  }
  .details-header-wrapper {
    padding-bottom: var(--spacing-lg);
  }
  .heading-h3 {
    font-family: var(--font-primary);
    color: var(--color-brand-light-green);
    margin-bottom: var(--spacing-sm);
  }

  .details-subheader {
    font-size: var(--font-size-body-base);

    max-width: 40ch;
  }

  /* --- Contact Items List --- */
  .contact-items-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-lg);
  }

  .contact-item {
    display: flex;
    align-items: flex-start; /* Icons align to the top of the text */
    gap: var(--spacing-md);
  }

  .item-icon {
    width: 24px;
    height: 24px;
    flex-shrink: 0; /* Prevents icon from shrinking */
    object-fit: contain;
  }

  .contact-item-text p {
    margin: 0;
    line-height: 1.4;
    font-size: var(--font-size-body);
  }

  .contact-item-text p:first-child {
    font-weight: var(--font-weight-medium);
  }

  .notice-text {
    padding-top: var(--spacing-sm);
  }
  /* --- Map Embed --- */
  .map-embed-container {
    flex: 1.3; /* Slightly wider than the details card */
    min-height: 10rem; /* Minimum height for map on all screens */
    border-radius: var(--border-radius);
    overflow: hidden;
    width: 100%;
  }

  .map-embed-container iframe {
    width: 100%;
    height: 100%;
    display: block;
  }
</style>
