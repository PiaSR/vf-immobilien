<!DOCTYPE html><html lang="de"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><!-- {
      criticalCssContent && (
        <style
          id="critical-styles"
          dangerouslySetInnerHTML={{ __html: criticalCssContent }}
        />
      )
    } --><script>
      // Function to find all automatically injected CSS links and apply deferral
      // We wait for the browser to parse the HTML and find the link tags that Astro injected.
      function deferStylesheets() {
        document.querySelectorAll('link[rel="stylesheet"]').forEach((link) => {
          //     // Skip if already deferred or if it's not a hashed Astro asset link
          if (
            link.href &&
            link.href.includes("/_astro/") &&
            link.media !== "print"
          ) {
            link.media = "print";
            link.onload = function () {
              this.media = "all";
              this.onload = null; // Clean up memory
            };
          }
        });
      }

      // Attempt to run the deferral script as early as possible
      document.addEventListener("DOMContentLoaded", deferStylesheets);
      // Fallback for full page load
      window.addEventListener("load", deferStylesheets);
    </script><noscript></noscript><link rel="preload" href="/astro/public/logos/Viki-new-logo-only-green-1.svg" as="image"><link rel="icon" type="image/svg+xml" href="/astro/public/logos/Viki-new-logo-only-green-1.svg"><title>Altbauwohnung Zentral</title><script defer id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="dc9e07d5-dc72-477b-ab85-798ff7e1ee18" data-blockingmode="auto" type="text/javascript"></script><meta name="description" content="Miete: Altbauwohnung Zentral in Wien, 2. Leopoldstadt. Besichtigungstermine auf Anfrage..."><meta property="og:title" content="Wohnung mieten: Altbauwohnung Zentral"><meta property="og:description" content="Miete: Altbauwohnung Zentral in Wien, 2. Leopoldstadt. Besichtigungstermine auf Anfrage..."><meta property="og:type" content="website"><meta property="og:image" content="https://cdn.sanity.io/images/6uu4aiks/production/bcaed452e3fdef2b4d514d9670139587f72914fe-5342x8009.jpg"><meta property="og:url" content="http://localhost:4321/properties/altbauwohnung-zentral/"><link rel="stylesheet" href="/_astro/about.CO-F1rv7.css">
<link rel="stylesheet" href="/_astro/_slug_.BC3has8C.css"></head> <body> <header id="cs-navigation" data-astro-cid-fq4y4swx> <div class="cs-container site-container" data-astro-cid-fq4y4swx> <a href="/" class="cs-logo" aria-label="back to home" data-astro-cid-fq4y4swx> <img src="/_astro/Viki-new-logo-only-green-1.Cad3ApOs_nKqOQ.svg" alt="logo" aria-hidden="true" decoding="async" loading="eager" data-astro-cid-fq4y4swx="true" fetchpriority="auto" width="90" height="75"> </a> <nav class="cs-nav" role="navigation" data-astro-cid-fq4y4swx> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="Z1src1c" prefix="r2" component-url="/_astro/MobileNavToggle.BFQgJ1wt.js" component-export="default" renderer-url="/_astro/client.BLUn-lwI.js" props="{&quot;data-astro-cid-fq4y4swx&quot;:[0,true]}" ssr client="load" opts="{&quot;name&quot;:&quot;MobileNavToggle&quot;,&quot;value&quot;:true}" await-children><button class="cs-toggle" aria-label="mobile menu toggle" aria-expanded="false" aria-controls="cs-expanded"><div class="cs-box" aria-hidden="true"><span class="cs-line cs-line1" aria-hidden="true"></span><span class="cs-line cs-line2" aria-hidden="true"></span><span class="cs-line cs-line3" aria-hidden="true"></span></div></button><!--astro:end--></astro-island> <div class="cs-ul-wrapper" data-astro-cid-fq4y4swx> <ul id="cs-expanded" class="cs-ul" data-astro-cid-fq4y4swx> <li class="cs-li" data-astro-cid-fq4y4swx> <a href="/" class="cs-li-link" data-astro-cid-fq4y4swx> Home </a> </li><li class="cs-li" data-astro-cid-fq4y4swx> <a href="/about" class="cs-li-link" data-astro-cid-fq4y4swx> Über uns </a> </li><li class="cs-li" data-astro-cid-fq4y4swx> <a href="/services" class="cs-li-link" data-astro-cid-fq4y4swx> Leistungen </a> </li><li class="cs-li" data-astro-cid-fq4y4swx> <a href="/faqs" class="cs-li-link" data-astro-cid-fq4y4swx> FAQs </a> </li><li class="cs-li" data-astro-cid-fq4y4swx> <a href="/properties/propertySearch" class="cs-li-link" data-astro-cid-fq4y4swx> Immobiliensuche </a> </li> <li class="cs-li" data-astro-cid-fq4y4swx> <a class="button button-orange button-nav" href="/contact" data-astro-cid-fq4y4swx>Kontakt</a> </li> </ul> </div> </nav> </div>  </header> <main>   <div id="app-container" class="site-container property-container" data-astro-cid-cvgdhxtf> <div id="loading-skeleton" class="skeleton-container" data-astro-cid-zxy3i5qf> <section class="image-section-skeleton" data-astro-cid-zxy3i5qf> <div class="main-image-box-skeleton skeleton-line skeleton-image-large" data-astro-cid-zxy3i5qf></div> <div class="gallery-thumbnails-skeleton" data-astro-cid-zxy3i5qf> <div class="thumbnail-skeleton skeleton-line" data-astro-cid-zxy3i5qf></div> <div class="thumbnail-skeleton skeleton-line" data-astro-cid-zxy3i5qf></div> <div class="thumbnail-skeleton skeleton-line" data-astro-cid-zxy3i5qf></div> </div> </section> <header class="listing-header-skeleton" data-astro-cid-zxy3i5qf> <div class="skeleton-line skeleton-title" data-astro-cid-zxy3i5qf></div> <div class="skeleton-line skeleton-address" data-astro-cid-zxy3i5qf></div> <div class="header-meta-skeleton" data-astro-cid-zxy3i5qf> <div class="skeleton-line skeleton-price" data-astro-cid-zxy3i5qf></div> <div class="skeleton-line skeleton-tag" data-astro-cid-zxy3i5qf></div> </div> </header> <div class="listing-grid-skeleton" data-astro-cid-zxy3i5qf> <div class="main-details-skeleton" data-astro-cid-zxy3i5qf> <section class="key-facts-card-skeleton" data-astro-cid-zxy3i5qf> <div class="key-facts-grid-skeleton" data-astro-cid-zxy3i5qf> <div class="skeleton-line skeleton-key-fact" data-astro-cid-zxy3i5qf></div> <div class="skeleton-line skeleton-key-fact" data-astro-cid-zxy3i5qf></div> <div class="skeleton-line skeleton-key-fact" data-astro-cid-zxy3i5qf></div> <div class="skeleton-line skeleton-key-fact" data-astro-cid-zxy3i5qf></div> </div> </section> <section class="listing-section-skeleton" data-astro-cid-zxy3i5qf> <div class="skeleton-line skeleton-subheader" data-astro-cid-zxy3i5qf></div> <div class="skeleton-line skeleton-text-full" data-astro-cid-zxy3i5qf></div> <div class="skeleton-line skeleton-text-full" data-astro-cid-zxy3i5qf></div> <div class="skeleton-line skeleton-text-half" data-astro-cid-zxy3i5qf></div> </section> </div> <div class="sidebar-wrapper-skeleton" data-astro-cid-zxy3i5qf> <div class="sidebar-card-skeleton agent-card-skeleton" data-astro-cid-zxy3i5qf> <div class="skeleton-line skeleton-subheader" data-astro-cid-zxy3i5qf></div> <div class="agent-info-skeleton" data-astro-cid-zxy3i5qf> <div class="skeleton-line skeleton-agent-image" data-astro-cid-zxy3i5qf></div> <div class="skeleton-line skeleton-agent-name" data-astro-cid-zxy3i5qf></div> <div class="skeleton-line skeleton-agent-contact" data-astro-cid-zxy3i5qf></div> </div> </div> <div class="sidebar-card-skeleton fact-box-skeleton" data-astro-cid-zxy3i5qf> <div class="skeleton-line skeleton-subheader" data-astro-cid-zxy3i5qf></div> <div class="fact-box-list-skeleton" data-astro-cid-zxy3i5qf> <div class="skeleton-line skeleton-fact-term" data-astro-cid-zxy3i5qf></div> <div class="skeleton-line skeleton-fact-data" data-astro-cid-zxy3i5qf></div> <div class="skeleton-line skeleton-fact-term" data-astro-cid-zxy3i5qf></div> <div class="skeleton-line skeleton-fact-data" data-astro-cid-zxy3i5qf></div> </div> </div> </div> </div> </div>  <!-- Main Content Area --> <div id="property-listing-content" style="display: none;" data-astro-cid-cvgdhxtf> <!-- Title and Header Area --> <!-- Image Gallery --> <section class="image-section" data-astro-cid-cvgdhxtf> <div class="main-image-box" data-astro-cid-cvgdhxtf> <img id="main-gallery-image" src="https://placehold.co/1200x800/e5e7eb/6b7280?text=Hauptbild" alt="Hauptansicht der Immobilie" class="main-image" data-astro-cid-cvgdhxtf> <!-- Gallery Navigation Controls --> <div class="gallery-controls-wrapper" data-astro-cid-cvgdhxtf> <button id="prev-button" class="gallery-nav-button" aria-label="Vorheriges Bild anzeigen" data-astro-cid-cvgdhxtf>
&#10094; <!-- Unicode Left Arrow --> </button> <button id="next-button" class="gallery-nav-button" aria-label="Nächstes Bild anzeigen" data-astro-cid-cvgdhxtf>
&#10095; <!-- Unicode Right Arrow --> </button> </div> <button id="fullscreen-toggle" class="fullscreen-toggle-button" data-astro-cid-cvgdhxtf>
&#x26F6; Vollbild
</button> </div> <!-- Thumbnails --> <div id="gallery-thumbnails" class="gallery-thumbnails-scroll" data-astro-cid-cvgdhxtf> <!-- Thumbnails rendered here by JS --> </div> </section> <header class="listing-header" data-astro-cid-cvgdhxtf> <h1 id="listing-title" class="listing-title" data-astro-cid-cvgdhxtf></h1> <p id="listing-address" class="listing-address" data-astro-cid-cvgdhxtf></p> <div class="header-meta" data-astro-cid-cvgdhxtf> <span id="listing-price" class="listing-price" data-astro-cid-cvgdhxtf></span> <span id="listing-type" class="listing-type-tag" data-astro-cid-cvgdhxtf></span> </div> </header> <div class="listing-grid" data-astro-cid-cvgdhxtf> <!-- Left Column (Details & Description) --> <div class="main-details" data-astro-cid-cvgdhxtf> <section class="key-facts-card" data-astro-cid-cvgdhxtf> <div id="key-facts" class="key-facts-grid" data-astro-cid-cvgdhxtf></div> </section> <section class="listing-section" data-astro-cid-cvgdhxtf> <h2 class="section-header" data-astro-cid-cvgdhxtf>Objektbeschreibung</h2> <p id="property-description" class="description-content" data-astro-cid-cvgdhxtf></p> </section> <section class="listing-section" data-astro-cid-cvgdhxtf> <h2 class="section-header" data-astro-cid-cvgdhxtf>Ausstattung</h2> <div id="ausstattung-details" class="description-content" data-astro-cid-cvgdhxtf></div> </section> <section class="listing-section" data-astro-cid-cvgdhxtf> <h2 class="section-header" data-astro-cid-cvgdhxtf>Lage</h2> <p id="location-description" class="location-description-content" data-astro-cid-cvgdhxtf></p> <div class="map-embed-container" data-astro-cid-cvgdhxtf> <iframe src="https://maps.google.com/maps?q=1020%20Wien&z=13&output=embed" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" data-astro-cid-cvgdhxtf></iframe> </div> </section> </div> <!-- Right Column (Sticky Sidebar: Agent Card & Fact Box) --> <div class="sidebar-wrapper" data-astro-cid-cvgdhxtf> <div class="sidebar-sticky" data-astro-cid-cvgdhxtf> <div class="sidebar-card agent-card" data-astro-cid-cvgdhxtf> <h2 data-astro-cid-cvgdhxtf>Ihr Ansprechpartner</h2> <div id="agent-card" class="agent-card" data-astro-cid-cvgdhxtf> <div class="agent-info" data-astro-cid-cvgdhxtf> <img id="agent-image" src="https://placehold.co/100x100/e5e7eb/6b7280?text=M" alt="Maklerbild" class="agent-image" loading="lazy" data-astro-cid-cvgdhxtf> <p id="agent-name" class="agent-name" data-astro-cid-cvgdhxtf></p> <p id="agent-phone" class="agent-phone" data-astro-cid-cvgdhxtf></p> <p id="agent-email" class="agent-email" data-astro-cid-cvgdhxtf></p> </div> <astro-island uid="Z1aOw3G" prefix="r3" component-url="/_astro/AgentContactForm.sJiISTYA.js" component-export="default" renderer-url="/_astro/client.BLUn-lwI.js" props="{&quot;property&quot;:[0,{&quot;address&quot;:[0,&quot;Hauptstrasse 83/4&quot;],&quot;agent&quot;:[0,null],&quot;ausstattung&quot;:[0,null],&quot;ausstattungDetails&quot;:[0,null],&quot;available&quot;:[0,true],&quot;availableDate&quot;:[0,null],&quot;bathrooms&quot;:[0,1],&quot;betriebskosten&quot;:[0,null],&quot;energyCertificate&quot;:[0,&quot;B&quot;],&quot;floor&quot;:[0,&quot;3&quot;],&quot;floorPlan&quot;:[0,null],&quot;gee&quot;:[0,null],&quot;heizkosten&quot;:[0,null],&quot;hwb&quot;:[0,null],&quot;id&quot;:[0,&quot;86bf129c-f5cd-4099-affc-00e396bc29e3&quot;],&quot;isFullyFurnished&quot;:[0,null],&quot;livingArea&quot;:[0,80],&quot;locationDescription&quot;:[0,null],&quot;locationSurrounding&quot;:[0,null],&quot;locationVienna&quot;:[0,&quot;2. Leopoldstadt&quot;],&quot;mainImage&quot;:[0,{&quot;metadata&quot;:[0,{&quot;_type&quot;:[0,&quot;sanity.imageMetadata&quot;],&quot;blurHash&quot;:[0,&quot;dYI#iW-;M{t7_4xtoH%LkFWBs*xu?bfkM{WB-;fkMxoe&quot;],&quot;dimensions&quot;:[0,{&quot;_type&quot;:[0,&quot;sanity.imageDimensions&quot;],&quot;aspectRatio&quot;:[0,0.6669996254214009],&quot;height&quot;:[0,8009],&quot;width&quot;:[0,5342]}],&quot;hasAlpha&quot;:[0,false],&quot;isOpaque&quot;:[0,true],&quot;lqip&quot;:[0,&quot;data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAeABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAUGBwP/xAAmEAABAwQCAQMFAAAAAAAAAAABAgMEAAUGERIhExQxUQdBYXGx/8QAFwEBAQEBAAAAAAAAAAAAAAAAAgMBBP/EABsRAAICAwEAAAAAAAAAAAAAAAACARIDESEi/9oADAMBAAIRAxEAPwDT8zyiNjdvt78lQUFr8IJ73+aHfqTY2rS47He5PhJCW/Y71/KmvRxsoxR0SWy67BPLxq7Ov1SSdiFmY5JME8kM+VRAPQoRlr5Eyb6KlNu3UJnSpdwW4+Oe0bKQN+woqdv2YybVP9Fb1rjRmUBKG+PsKKV8Zlng0vCrq3HlXNougPlgq7+/xSm95DLRcpJnOFEMsjiptPIBVTccJb8riQQ4oaKt9miKC8ysKUTr5O65XSGa2y68OF+h4tNnJfk3MpeW2nmOBPdFKncWivurcDzqeR2RvdFUioaSf//Z&quot;],&quot;palette&quot;:[0,{&quot;_type&quot;:[0,&quot;sanity.imagePalette&quot;],&quot;darkMuted&quot;:[0,{&quot;_type&quot;:[0,&quot;sanity.imagePaletteSwatch&quot;],&quot;background&quot;:[0,&quot;#5d3e2f&quot;],&quot;foreground&quot;:[0,&quot;#fff&quot;],&quot;population&quot;:[0,3.22],&quot;title&quot;:[0,&quot;#fff&quot;]}],&quot;darkVibrant&quot;:[0,{&quot;_type&quot;:[0,&quot;sanity.imagePaletteSwatch&quot;],&quot;background&quot;:[0,&quot;#6a5633&quot;],&quot;foreground&quot;:[0,&quot;#fff&quot;],&quot;population&quot;:[0,2.02],&quot;title&quot;:[0,&quot;#fff&quot;]}],&quot;dominant&quot;:[0,{&quot;_type&quot;:[0,&quot;sanity.imagePaletteSwatch&quot;],&quot;background&quot;:[0,&quot;#d7cdb4&quot;],&quot;foreground&quot;:[0,&quot;#000&quot;],&quot;population&quot;:[0,6.46],&quot;title&quot;:[0,&quot;#000&quot;]}],&quot;lightMuted&quot;:[0,{&quot;_type&quot;:[0,&quot;sanity.imagePaletteSwatch&quot;],&quot;background&quot;:[0,&quot;#d7cdb4&quot;],&quot;foreground&quot;:[0,&quot;#000&quot;],&quot;population&quot;:[0,6.46],&quot;title&quot;:[0,&quot;#000&quot;]}],&quot;lightVibrant&quot;:[0,{&quot;_type&quot;:[0,&quot;sanity.imagePaletteSwatch&quot;],&quot;background&quot;:[0,&quot;#92acd8&quot;],&quot;foreground&quot;:[0,&quot;#000&quot;],&quot;population&quot;:[0,0.01],&quot;title&quot;:[0,&quot;#fff&quot;]}],&quot;muted&quot;:[0,{&quot;_type&quot;:[0,&quot;sanity.imagePaletteSwatch&quot;],&quot;background&quot;:[0,&quot;#988c76&quot;],&quot;foreground&quot;:[0,&quot;#fff&quot;],&quot;population&quot;:[0,4.62],&quot;title&quot;:[0,&quot;#fff&quot;]}],&quot;vibrant&quot;:[0,{&quot;_type&quot;:[0,&quot;sanity.imagePaletteSwatch&quot;],&quot;background&quot;:[0,&quot;#344e74&quot;],&quot;foreground&quot;:[0,&quot;#fff&quot;],&quot;population&quot;:[0,0.03],&quot;title&quot;:[0,&quot;#fff&quot;]}]}]}],&quot;url&quot;:[0,&quot;https://cdn.sanity.io/images/6uu4aiks/production/bcaed452e3fdef2b4d514d9670139587f72914fe-5342x8009.jpg&quot;]}],&quot;marketingType&quot;:[0,&quot;Miete&quot;],&quot;name&quot;:[0,&quot;Altbauwohnung Zentral&quot;],&quot;outdoorArea&quot;:[0,null],&quot;photos&quot;:[0,null],&quot;postalCodeSurrounding&quot;:[0,null],&quot;propertyDescription&quot;:[0,null],&quot;propertyType&quot;:[0,&quot;Wohnung&quot;],&quot;provision&quot;:[0,null],&quot;purchasePrice&quot;:[0,null],&quot;rentalPrice&quot;:[0,2900],&quot;rooms&quot;:[0,2],&quot;slug&quot;:[0,{&quot;_type&quot;:[0,&quot;slug&quot;],&quot;current&quot;:[0,&quot;altbauwohnung-zentral&quot;]}],&quot;suburb&quot;:[0,null],&quot;title&quot;:[0,&quot;Altbauwohnung Zentral&quot;],&quot;useableArea&quot;:[0,null],&quot;yearBuilt&quot;:[0,&quot;1945&quot;]}],&quot;data-astro-cid-cvgdhxtf&quot;:[0,true]}" ssr client="load" opts="{&quot;name&quot;:&quot;AgentContactForm&quot;,&quot;value&quot;:true}" await-children><form id="agent-contact-form" name="agent-contact-form" data-name="agent contact form" noValidate=""><input type="hidden" name="property-id" value="86bf129c-f5cd-4099-affc-00e396bc29e3"/><input type="hidden" name="property-title" value="Altbauwohnung Zentral"/><input type="hidden" name="property-address" value="Hauptstrasse 83/4"/><div class="form-field-group"><label for="agent-first-name" class="visually-hidden">Ihr Name</label><input class="form-input " placeholder="Ihr Name" type="text" id="agent-first-name" required="" name="firstName" value=""/><span id="error-agent-first-name" class="input-error-message" style="display:none"></span></div><div class="form-field-group"><label for="agent-email-input" class="visually-hidden">Ihre Email</label><input class="form-input " placeholder="Ihre Email" type="email" id="agent-email-input" required="" name="email" value=""/><span id="error-agent-email" class="input-error-message" style="display:none"></span></div><div class="form-field-group"><label for="agent-phone-input" class="visually-hidden">Telefonnummer</label><input class="form-input " placeholder="Ihre Telefonnummer" type="tel" id="agent-phone-input" required="" name="phone" value=""/><span id="error-agent-phone" class="input-error-message" style="display:none"></span></div><div class="form-field-group"><label for="agent-message" class="visually-hidden">Ihre Nachricht</label><textarea id="agent-message" name="message" placeholder="Ich interessiere mich für dieses Objekt..." class="form-textarea " required="">Ich interessiere mich für dieses Objekt.</textarea><span id="error-agent-message" class="input-error-message" style="display:none"></span></div><label class="form-checkbox-label" for="agent-TandCs"><input type="checkbox" id="agent-TandCs" required="" name="tandCs"/><span class="checkbox-custom-indicator"></span><span class="checkbox-text">Ich habe die <a href="/agb">AGB</a> und<!-- --> <a href="/datenschutz">Datenschutzbestimmungen</a> gelesen und erkläre mich damit einverstanden.</span></label><div class="checkbox-error-wrapper"><span id="error-agent-TandCs" class="input-error-message" style="display:none"></span></div><div class="padding-bottom padding-small"></div><button type="submit" class="button-element button-green button-small">Anfrage senden</button><div id="agent-form-success" class="form-success-message is-visible" style="display:none"><div>Danke für Ihre Anfrage! Wir werden uns bald bei Ihnen melden.</div></div><div id="agent-form-error" class="form-error-message is-visible" style="display:none"><div>Beim Absenden des Formulars ist ein Fehler aufgetreten. Bitte versuchen Sie es erneut.</div></div></form><!--astro:end--></astro-island> </div> </div> <div class="sidebar-card fact-box" data-astro-cid-cvgdhxtf> <h2 data-astro-cid-cvgdhxtf>Objekdetails</h2> <dl id="fact-box-list" class="fact-box-list" data-astro-cid-cvgdhxtf></dl> </div> </div> </div> </div> </div> </div> <!-- Fullscreen Modal Gallery --> <div id="fullscreen-gallery-modal" class="fullscreen-modal-overlay" data-astro-cid-cvgdhxtf> <button id="modal-close" class="modal-close-button" aria-label="Vollbild schließen" data-astro-cid-cvgdhxtf>
&times;
</button> <div class="modal-content-wrapper" data-astro-cid-cvgdhxtf> <button id="modal-prev" class="modal-nav-button" aria-label="Vorheriges Bild" data-astro-cid-cvgdhxtf>
&#10094;
</button> <div class="modal-image-box" data-astro-cid-cvgdhxtf> <img id="modal-image" src="" alt="Vollbildansicht" class="modal-image" data-astro-cid-cvgdhxtf> </div> <button id="modal-next" class="modal-nav-button" aria-label="Nächstes Bild" data-astro-cid-cvgdhxtf>
&#10095;
</button> </div> </div>  <!-- JavaScript for Data Fetching and Gallery Logic --> <script>(function(){const propertyData = {"address":"Hauptstrasse 83/4","agent":null,"ausstattung":null,"ausstattungDetails":null,"available":true,"availableDate":null,"bathrooms":1,"betriebskosten":null,"energyCertificate":"B","floor":"3","floorPlan":null,"gee":null,"heizkosten":null,"hwb":null,"id":"86bf129c-f5cd-4099-affc-00e396bc29e3","isFullyFurnished":null,"livingArea":80,"locationDescription":null,"locationSurrounding":null,"locationVienna":"2. Leopoldstadt","mainImage":{"metadata":{"_type":"sanity.imageMetadata","blurHash":"dYI#iW-;M{t7_4xtoH%LkFWBs*xu?bfkM{WB-;fkMxoe","dimensions":{"_type":"sanity.imageDimensions","aspectRatio":0.6669996254214009,"height":8009,"width":5342},"hasAlpha":false,"isOpaque":true,"lqip":"data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAeABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAUGBwP/xAAmEAABAwQCAQMFAAAAAAAAAAABAgMEAAUGERIhExQxUQdBYXGx/8QAFwEBAQEBAAAAAAAAAAAAAAAAAgMBBP/EABsRAAICAwEAAAAAAAAAAAAAAAACARIDESEi/9oADAMBAAIRAxEAPwDT8zyiNjdvt78lQUFr8IJ73+aHfqTY2rS47He5PhJCW/Y71/KmvRxsoxR0SWy67BPLxq7Ov1SSdiFmY5JME8kM+VRAPQoRlr5Eyb6KlNu3UJnSpdwW4+Oe0bKQN+woqdv2YybVP9Fb1rjRmUBKG+PsKKV8Zlng0vCrq3HlXNougPlgq7+/xSm95DLRcpJnOFEMsjiptPIBVTccJb8riQQ4oaKt9miKC8ysKUTr5O65XSGa2y68OF+h4tNnJfk3MpeW2nmOBPdFKncWivurcDzqeR2RvdFUioaSf//Z","palette":{"_type":"sanity.imagePalette","darkMuted":{"_type":"sanity.imagePaletteSwatch","background":"#5d3e2f","foreground":"#fff","population":3.22,"title":"#fff"},"darkVibrant":{"_type":"sanity.imagePaletteSwatch","background":"#6a5633","foreground":"#fff","population":2.02,"title":"#fff"},"dominant":{"_type":"sanity.imagePaletteSwatch","background":"#d7cdb4","foreground":"#000","population":6.46,"title":"#000"},"lightMuted":{"_type":"sanity.imagePaletteSwatch","background":"#d7cdb4","foreground":"#000","population":6.46,"title":"#000"},"lightVibrant":{"_type":"sanity.imagePaletteSwatch","background":"#92acd8","foreground":"#000","population":0.01,"title":"#fff"},"muted":{"_type":"sanity.imagePaletteSwatch","background":"#988c76","foreground":"#fff","population":4.62,"title":"#fff"},"vibrant":{"_type":"sanity.imagePaletteSwatch","background":"#344e74","foreground":"#fff","population":0.03,"title":"#fff"}}},"url":"https://cdn.sanity.io/images/6uu4aiks/production/bcaed452e3fdef2b4d514d9670139587f72914fe-5342x8009.jpg"},"marketingType":"Miete","name":"Altbauwohnung Zentral","outdoorArea":null,"photos":null,"postalCodeSurrounding":null,"propertyDescription":null,"propertyType":"Wohnung","provision":null,"purchasePrice":null,"rentalPrice":2900,"rooms":2,"slug":{"_type":"slug","current":"altbauwohnung-zentral"},"suburb":null,"title":"Altbauwohnung Zentral","useableArea":null,"yearBuilt":"1945"};
const docIcon = {"src":"/_astro/Document-icon-svg.DJeBoiQf.svg","width":24,"height":24,"format":"svg"};
const openInNewWindow = {"src":"/_astro/Open-in-new-window.BPRVG6Gk.svg","width":24,"height":24,"format":"svg"};

const BATHROOM_SVG = `<svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 -960 960 960" width="30px" fill="currentColor"><path d="M280-600q-33 0-56.5-23.5T200-680q0-33 23.5-56.5T280-760q33 0 56.5 23.5T360-680q0 33-23.5 56.5T280-600ZM200-80q-17 0-28.5-11.5T160-120q-33 0-56.5-23.5T80-200v-240h120v-30q0-38 26-64t64-26q20 0 37 8t31 22l56 62q8 8 15.5 15t16.5 13h274v-326q0-14-10-24t-24-10q-6 0-11.5 2.5T664-790l-50 50q5 17 2 33.5T604-676L494-788q14-9 30-11.5t32 3.5l50-50q16-16 36.5-25t43.5-9q48 0 81 33t33 81v326h80v240q0 33-23.5 56.5T800-120q0 17-11.5 28.5T760-80H200Zm-40-120h640v-160H160v160Zm0 0h640-640Z"/></svg>`;

// FIX 2: Standardize width, height, and use currentColor for CSS control
const SQM_SVG = `<svg xmlns="http://www.w3.org/2000/svg" width="30px" height="30px" fill="currentColor" viewBox="0 -3 16 16"><path d="M7.44 11.28a.48.48 0 0 1-.48.48H5.04a.48.48 0 0 1 0-.96h1.92a.48.48 0 0 1 .48.48ZM.72 7.44a.48.48 0 0 0 .48-.48V5.04a.48.48 0 1 0-.96 0v1.92c0 .265.215.48.48.48Zm1.92 3.36H1.2V9.36a.48.48 0 1 0-.96 0v1.44c0 .53.43.96.96.96h1.44a.48.48 0 1 0 0-.96Zm9.12-9.6a.96.96 0 0 0-.96-.96H1.2a.952.952 0 0 0-.713.32.952.952 0 0 0-.247.64v1.44a.48.48 0 0 0 .96 0v-.761l8.922 8.921H9.36a.48.48 0 1 0 0 .96h1.44a.955.955 0 0 0 .714-.32.952.952 0 0 0 .246-.64V1.2Z"/></svg>`;

// FIX 3: Placeholder for Room SVG - REMOVE DATA-IMAGE and use simple path/viewBox
const ROOM_SVG = `<svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 -960 960 960" width="30px" fill="currentColor"><path d="M120-120v-80h80v-560q0-33 23.5-56.5T280-840h400q33 0 56.5 23.5T760-760v560h80v80H120Zm560-80v-560H280v560h400ZM560-440q17 0 28.5-11.5T600-480q0-17-11.5-28.5T560-520q-17 0-28.5 11.5T520-480q0 17 11.5 28.5T560-440ZM280-760v560-560Z"/></svg>`;
const CALENDAR_SVG = `<svg xmlns="http://www.w3.org/2000/svg" height="30px" viewBox="0 -960 960 960" width="30px" fill="currentColor"><path d="M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Zm0-480h560v-80H200v80Zm0 0v-80 80Zm280 240q-17 0-28.5-11.5T440-440q0-17 11.5-28.5T480-480q17 0 28.5 11.5T520-440q0 17-11.5 28.5T480-400Zm-160 0q-17 0-28.5-11.5T280-440q0-17 11.5-28.5T320-480q17 0 28.5 11.5T360-440q0 17-11.5 28.5T320-400Zm320 0q-17 0-28.5-11.5T600-440q0-17 11.5-28.5T640-480q17 0 28.5 11.5T680-440q0 17-11.5 28.5T640-400ZM480-240q-17 0-28.5-11.5T440-280q0-17 11.5-28.5T480-320q17 0 28.5 11.5T520-280q0 17-11.5 28.5T480-240Zm-160 0q-17 0-28.5-11.5T280-280q0-17 11.5-28.5T320-320q17 0 28.5 11.5T360-280q0 17-11.5 28.5T320-240Zm320 0q-17 0-28.5-11.5T600-280q0-17 11.5-28.5T640-320q17 0 28.5 11.5T680-280q0 17-11.5 28.5T640-240Z"/></svg>`;

// --- Global State for Gallery ---
let allPhotos = [];
let currentImageIndex = 0;

// Utility functions
const formatCurrency = (amount) => {
  if (amount === null || amount === undefined) return "Auf Anfrage";
  return new Intl.NumberFormat("de-DE", {
    style: "currency",
    currency: "EUR",
    maximumFractionDigits: 0,
  }).format(amount);
};
const createFactItem = (value, label, icon) => {
  const factItemStyle = `
   
    border-radius: var(--border-radius);
    `;
  const factItemWrapperStyle = `
    display:flex;
    justify-content: center;
    align-items: center;
    gap: var(--spacing-sm);
    padding-bottom: var(--spacing-sm);
    `;
  const iconDivStyle = `
    align-items: center;
    `;
  const factItemValueStyle = `
  font-size: var(--font-size-h5);
    font-weight: var(--font-weight-bold);
    color: var(--color-neutral-font-dark);
    
    `;

  if (!value || value === "null" || value === false) return "";
  return `<div class="fact-item" style="${factItemStyle}"><div class="fact-item-wrapper" style="${factItemWrapperStyle}"><div class="text-xl font-bold main-fact-icon" style="${iconDivStyle}">${icon}</div><p class="fact-item-value" style="${factItemValueStyle}">${value === true ? "Ja" : value}</p></div><p class="fact-item-label">${label}</p></div>`;
};

//for Objektdetails card
const createDetailItem = (value, label) => {
  if (!value || value === "null") return "";
  const titleStyle = "text-align:left";
  const boldStyle = "font-weight: 700; text-align:left; word-break: normal;";
  return `<dt class="fact-title" style="${titleStyle}">${label}</dt><dd class="fact-data" style="${boldStyle}">${value}</dd>`;
};

const renderPortableText = (blocks) => {
  if (!blocks || blocks.length === 0) return "";

  let html = "";
  let inList = false; // Flag to track if we are currently inside an <ul> block

  const listStyle =
    "list-style: disc; padding-left: 1.5em; margin-bottom: 1em;";
  blocks.forEach((block) => {
    // 1. Process block children (spans) for content and marks (like bold)
    const content = block.children
      .map((span) => {
        let text = span.text;
        // Apply marks like 'strong'
        if (span.marks && span.marks.includes("strong")) {
          text = `<strong>${text}</strong>`;
        }
        return text;
      })
      .join("");

    // --- LOGIC FOR LISTS AND PARAGRAPHS ---

    if (block.listItem === "bullet") {
      // START LIST: If we are not currently in a list, start one.
      if (!inList) {
        html += `<ul style="${listStyle}">`;
        inList = true;
      }
      // Add the list item content
      html += `<li>${content}</li>`;
    } else {
      // END LIST: If we were in a list and this block is NOT a list item, close the list.
      if (inList) {
        html += "</ul>";
        inList = false;
      }
      // Handle non-list blocks as simple paragraphs
      html += `<p>${content}</p>`;
    }
  });

  // FINAL STEP: If the document ends while still inside a list, close it.
  if (inList) {
    html += "</ul>";
  }

  return html;
};
/**
 * Updates the main image and highlights the active thumbnail.
 */
// --- Utility function for Image Optimization ---
const getOptimizedUrl = (originalUrl, width, quality = 80) => {
  if (!originalUrl) return originalUrl;
  // Use Sanity's URL parameters for resizing, quality, and format
  return `${originalUrl}?w=${width}&q=${quality}&fit=max&fm=webp`;
};
// ---------------------------------------------

const showImage = (index) => {
  if (allPhotos.length === 0) return;

  // Circular array logic
  currentImageIndex = (index + allPhotos.length) % allPhotos.length;
  const photo = allPhotos[currentImageIndex];

  const mainImgElement = document.getElementById("main-gallery-image");
  const modalImgElement = document.getElementById("modal-image");
  const thumbnails = document.querySelectorAll(".thumbnail-image");

  // 1. Update main image (with smooth transition)
  mainImgElement.style.opacity = 0;
  setTimeout(() => {
    mainImgElement.src = getOptimizedUrl(photo.url, 1400, 85);
    mainImgElement.alt =
      photo.alt || `Immobilienfoto ${currentImageIndex + 1}`;
    mainImgElement.style.opacity = 1;
  }, 200);

  // 2. Update modal image immediately if modal is open
  if (
    document
      .getElementById("fullscreen-gallery-modal")
      .classList.contains("active")
  ) {
    modalImgElement.src = getOptimizedUrl(photo.url, 2000, 85);
    modalImgElement.alt =
      photo.alt || `Vollbildansicht ${currentImageIndex + 1}`;
  }

  // 3. Update active thumbnail highlight and scroll
  thumbnails.forEach((thumb, i) => {
    if (i === currentImageIndex) {
      thumb.classList.add("active");
      thumb.scrollIntoView({
        behavior: "smooth",
        inline: "center",
        block: "nearest",
      });
    } else {
      thumb.classList.remove("active");
    }
  });
};

const nextImage = () => showImage(currentImageIndex + 1);
const prevImage = () => showImage(currentImageIndex - 1);

const openModal = () => {
  const modal = document.getElementById("fullscreen-gallery-modal");
  const modalImgElement = document.getElementById("modal-image");

  // Set the initial image in the modal
  const currentPhoto = allPhotos[currentImageIndex];
  if (currentPhoto) {
    modalImgElement.src = currentPhoto.url;
  }

  modal.classList.add("active");
  document.body.style.overflow = "hidden"; // Prevent scrolling the main page
};

const closeModal = () => {
  const modal = document.getElementById("fullscreen-gallery-modal");
  modal.classList.remove("active");
  document.body.style.overflow = ""; // Restore scrolling
};

// --- MAIN RENDER FUNCTION ---
const renderProperty = (data) => {
  const skeletonElement = document.getElementById("loading-skeleton");
  document.getElementById("property-listing-content").style.display = "block";

  if (skeletonElement) {
    skeletonElement.style.display = "none";
  }

  // 1. HEADER & PRICE
  document.getElementById("listing-title").textContent = data.title;

  let locationText = "Unbekannte Lage";
  if (data.locationVienna) {
    locationText = `Wien, ${data.locationVienna}`;
  } else if (data.locationPostcode) {
    locationText = `Lage Umgebung, ${data.locationPostcode}`;
  }

  document.getElementById("listing-address").textContent = `${locationText} `;

  const price = data.rentalPrice;
  const priceText = price
    ? formatCurrency(price) + " / Monat"
    : "Preis auf Anfrage";
  document.getElementById("listing-price").textContent = priceText;
  document.getElementById("listing-type").textContent =
    `${data.propertyType} ${data.marketingType}`;

  // 2. IMAGE GALLERY SETUP

  // Combine mainImage and photos for the gallery
  allPhotos = [
    // 1. Check for the single main image named 'mainImage'
    ...(data.mainImage && data.mainImage.url
      ? [{ url: data.mainImage.url, alt: data.title + " Hauptbild" }]
      : []),
    // 2. Add all images from the 'photos' array
    // We ensure each item exists and has a resolved 'url' before mapping
    ...(data.photos || [])
      .filter((photo) => photo && photo.url)
      .map((photo) => ({ url: photo.url, alt: photo.alt || "Zusatzfoto" })),
  ];

  const thumbnailsContainer = document.getElementById("gallery-thumbnails");
  thumbnailsContainer.innerHTML = allPhotos
    .map(
      (photo, index) => `
                <img 
                src="${getOptimizedUrl(photo.url, 250, 70)}"
                    alt="${photo.alt || "Immobilienfoto " + (index + 1)}" 
                    class="thumbnail-image"
                    data-index="${index}"
                    loading="lazy"
                >
            `
    )
    .join("");

  // Initialize the first image
  if (allPhotos.length > 0) {
    showImage(currentImageIndex);
  } else {
    // Fallback if no images are found
    document.getElementById("main-gallery-image").src =
      "https://placehold.co/1200x800/e5e7eb/6b7280?text=Keine+Bilder+verfügbar";
  }

  // Add click listener to thumbnails
  thumbnailsContainer.querySelectorAll("img").forEach((thumb) => {
    thumb.addEventListener("click", (e) => {
      const index = parseInt(e.target.dataset.index);
      showImage(index);
    });
  });

  // Add click listeners for main gallery navigation
  document.getElementById("next-button").addEventListener("click", (e) => {
    e.preventDefault(); // Stop image from jumping up
    e.currentTarget.blur();
    nextImage();
  });
  document.getElementById("prev-button").addEventListener("click", (e) => {
    e.preventDefault(); // Stop image from jumping up
    e.currentTarget.blur();
    prevImage();
  });

  // Add click listener for fullscreen toggle
  document
    .getElementById("fullscreen-toggle")
    .addEventListener("click", openModal);

  // Add modal listeners
  document
    .getElementById("modal-close")
    .addEventListener("click", closeModal);
  document.getElementById("modal-next").addEventListener("click", nextImage);
  document.getElementById("modal-prev").addEventListener("click", prevImage);

  // Add keyboard navigation for the modal
  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape") {
      closeModal();
    } else if (
      document
        .getElementById("fullscreen-gallery-modal")
        .classList.contains("active")
    ) {
      if (e.key === "ArrowRight") nextImage();
      if (e.key === "ArrowLeft") prevImage();
    }
  });

  // 3. KEY FACTS
  const keyFactsHTML = [
    createFactItem(
      data.livingArea ? `${data.livingArea} m²` : null,
      "Wohnfläche",
      SQM_SVG
    ),
    createFactItem(data.rooms, "Zimmer", ROOM_SVG),
    createFactItem(data.bathrooms, "Badezimmer", BATHROOM_SVG),
    createFactItem(`Ab ${data.availableDate}`, "Verfügbar", CALENDAR_SVG),
  ].join("");
  document.getElementById("key-facts").innerHTML = keyFactsHTML;

  // 4. DESCRIPTION & AMENITIES
  // document.getElementById("property-description").textContent =
  //   data.description ? data.description.trim() : "";
  const descriptionElement = document.getElementById("property-description");

  if (data.propertyDescription && descriptionElement) {
    descriptionElement.textContent = data.propertyDescription.trim();
  } else if (descriptionElement) {
    // Show a fallback message if data is empty
    descriptionElement.textContent = "Keine Objektbeschreibung verfügbar.";
  }

  const ausstattungDetailsHTML = renderPortableText(data.ausstattungDetails);
  document.getElementById("ausstattung-details").innerHTML =
    ausstattungDetailsHTML;

  const complexFeaturesContainer =
    document.getElementById("complex-features");
  if (data.complexFeatures && data.complexFeatures.length > 0) {
    complexFeaturesContainer.innerHTML = data.complexFeatures
      .map((feature) => `<span class="feature-tag">${feature}</span>`)
      .join("");
  }

  // 5. LOCATION DESCRIPTION
  document.getElementById("location-description").textContent =
    data.locationDescription ? data.locationDescription.trim() : "";

  // 7. AGENT CARD
  const agentImageElement = document.getElementById("agent-image");
  document.getElementById("agent-name").textContent = data.agent?.name;
  document.getElementById("agent-phone").textContent = data.agent?.phone;
  document.getElementById("agent-email").href = `mailto:${data.agent?.email}`;
  document.getElementById("agent-email").textContent =
    data.agent?.email || "E-Mail senden";
  const agentImageUrl = data.agent?.agentImage?.url;
  if (agentImageUrl) {
    if (typeof agentImageUrl === "string") {
      agentImageElement.src = getOptimizedUrl(agentImageUrl, 150, 80);
      // ... rest of the code
    } else {
      // Log the object structure for debugging if it's not a string
      console.error("Agent Image URL is not a string:", agentImageUrl);
    }
    if (typeof agentImageUrl === "string" && agentImageUrl) {
      // Pass the valid string URL to your optimizer function
      agentImageElement.src = getOptimizedUrl(agentImageUrl, 150, 80);
      agentImageElement.alt = `Maklerbild von ${data.agent?.name || "dem Ansprechpartner"}`;
      agentImageElement.style.display = "block";
    } else {
      // This branch handles cases where the URL is missing or not a string
      console.error(
        "Agent image URL not found or not a string:",
        agentImageUrl
      );
      agentImageElement.src =
        "https://placehold.co/100x100/e5e7eb/6b7280?text=M";
      agentImageElement.alt = "Maklerbild Platzhalter";
      agentImageElement.style.display = "block";
    }
  }

  // 8. DETAILS & DOWNLOADS FACT BOX
  const factBoxList = document.getElementById("fact-box-list");
  //  Conditional price determination
  let priceItemHTML = "";
  let priceTitle = "";
  let priceValue = null;

  if (data.marketingType === "Miete") {
    priceTitle = "Mietpreis (gesamt)";
    // Assuming rentalPrice is the field name for rent
    priceValue = data.rentalPrice ? `${data.rentalPrice} €` : null;
  } else if (data.marketingType === "Kauf") {
    priceTitle = "Kaufpreis";
    // Assuming purchasePrice is the field name for purchase price
    priceValue = data.purchasePrice ? `${data.purchasePrice} €` : null;
  }

  if (priceValue) {
    priceItemHTML = createDetailItem(priceValue, priceTitle);
  }
  const factBoxHTML = [
    // BASIC INFO
    createDetailItem(data.propertyType, "Objektart"),
    createDetailItem(data.marketingType, "Vermarktungsart"),

    // AREA & ROOMS
    createDetailItem(data.rooms, "Zimmeranzahl"),
    createDetailItem(data.bathrooms, "Badezimmer"),
    createDetailItem(
      data.livingArea ? `${data.livingArea} m²` : null,
      "Wohnfläche"
    ),
    createDetailItem(
      data.useableArea ? `${data.useableArea} m²` : null,
      "Nutzfläche"
    ),

    // COSTS (if applicable)
    priceItemHTML,
    createDetailItem(data.provision, "Provision"),
    createDetailItem(
      data.betriebskosten ? `${data.betriebskosten} €` : null,
      "Betriebskosten"
    ),
    createDetailItem(
      data.heizkosten ? `${data.heizkosten} €` : null,
      "Heizkosten"
    ),

    // MISC
    createDetailItem(data.parking, "Stellplätze"),
    createDetailItem(
      data.hwb ? `${data.hwb} kWh/m²` : null,
      "HWB (Heizwärmebedarf)"
    ),
    createDetailItem(data.energyCertificate, "Energieausweis"),
  ].join("");
  factBoxList.innerHTML = factBoxHTML;
};

// 9. DOWNLOAD LINK FOR FLOOR PLAN
const factBox = document.querySelector(".fact-box"); // Select the fact box element

// Assuming propertyData is the parsed object containing floorPlanUrl
// You need to extract the floorPlan URL from the propertyData object
const floorPlanUrl = propertyData.floorPlan || null;

if (floorPlanUrl && factBox) {
  // Define the base inline style for the download link container
  const downloadLinkInlineStyle = `
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    width: 100%; 
    padding: var(--spacing-md); 
    margin-top: var(--spacing-xl); 
    border-radius: var(--border-radius); 
    background-color: var(--color-brand-light-green); 
    color: var(--color-neutral-font-dark); 
    text-decoration: none; 
    transition: background-color 0.2s ease;
`;

  const downloadLeftWrapper = `
display: flex;
align-items: center;
gap: var(--spacing-md);
`;
  const iconInlineStyle = `
    width: 18px; 
    height: 18px;
     flex-shrink: 0;
`;

  const downloadLinkHTML = `
        <a href="${floorPlanUrl}" 
           class="download-link" 
           target="_blank" 
           download 
           aria-label="Grundriss herunterladen"
           style="${downloadLinkInlineStyle}">
            
           <div style="${downloadLeftWrapper}">
            <img
                src="${docIcon.src}" 
                alt="Dokumente Icon" 
                class="document-icon" 
                style="${iconInlineStyle}" 
            />
            
            Grundriss herunterladen
            </div>
            <img
                        src="${openInNewWindow.src}"
                        alt="icon für in neuem fenster öffnen"
                        class="document-icon"
                        style="${iconInlineStyle}" 

                      />
        </a>
    `;
  factBox.insertAdjacentHTML("beforeend", downloadLinkHTML);
  }

  // --- FETCH LOGIC ---
  window.onload = function () {
    console.log("property description", propertyData.propertyDescription);
    renderProperty(propertyData);
    window.scrollTo(0, 0);
  };
})();</script>
../../Base/AgentContactForm.tsx  </main> <footer class="main-footer content-to-blur" data-astro-cid-qlcemkia> <div class="footer-container" data-astro-cid-qlcemkia> <div class="footer-logo-section" data-astro-cid-qlcemkia> <img src="/_astro/Viki-new-logo-white-1-with-writing-1.CxejZbOD_Z2orfyq.svg" alt="Viki Frohner Immobilien" data-astro-cid-qlcemkia="true" loading="lazy" decoding="async" fetchpriority="auto" width="150" height="150" class="footer-logo"> <div class="footer-divider" data-astro-cid-qlcemkia></div> <div class="footer-tagline" data-astro-cid-qlcemkia>Verwaltung, gebaut auf Vertrauen.</div> <div class="footer-socials" data-astro-cid-qlcemkia> <a href="http://www.linkedin.com" class="social-link" target="_blank" rel="noopener noreferrer" data-astro-cid-qlcemkia> <img src="/_astro/Linkedin-1.BxpfnXPE_1X3xi2.svg" loading="lazy" alt="Linkedin" data-astro-cid-qlcemkia="true" decoding="async" fetchpriority="auto" width="32" height="32"> </a> <a href="#" class="social-link" data-astro-cid-qlcemkia><img src="/_astro/Instagram-1.D5F_oyq9_1X3xi2.svg" loading="lazy" alt="Instagram" data-astro-cid-qlcemkia="true" decoding="async" fetchpriority="auto" width="32" height="32"></a> <a href="#" class="social-link" data-astro-cid-qlcemkia><img src="/_astro/Facebook-1.C9JDqIK1_1X3xi2.svg" loading="lazy" alt="Facebook" data-astro-cid-qlcemkia="true" decoding="async" fetchpriority="auto" width="32" height="32"></a> </div> </div> <div class="footer-links-container" data-astro-cid-qlcemkia> <div class="footer-links" data-astro-cid-qlcemkia> <div class="links-group" data-astro-cid-qlcemkia> <a href="/about" class="links-header-link" data-astro-cid-qlcemkia> <h6 class="links-header" data-astro-cid-qlcemkia>Über uns</h6> </a> <a href="/about#about-team" class="link-item" data-astro-cid-qlcemkia>Team</a> <a href="/about#about-history" class="link-item" data-astro-cid-qlcemkia>Entstehung</a> <a href="/about#about-values" class="link-item" data-astro-cid-qlcemkia>Werte</a> </div> <div class="links-group" data-astro-cid-qlcemkia> <a href="/services" class="links-header-link" data-astro-cid-qlcemkia> <h6 class="links-header" data-astro-cid-qlcemkia>Leistungen</h6> </a> <a href="/services#services-hausverwaltung" class="link-item" data-astro-cid-qlcemkia>Hausverwaltung</a> <a href="/services#services-vermittlung" class="link-item" data-astro-cid-qlcemkia>Immobilienvermittlung</a> <a href="/faqs" class="link-item" data-astro-cid-qlcemkia>FAQs & Dokumente</a> </div> <div class="links-group" data-astro-cid-qlcemkia> <a href="/properties/propertySearch" class="links-header-link" data-astro-cid-qlcemkia> <h6 class="links-header" data-astro-cid-qlcemkia>Immobiliensuche</h6> </a> <a href="/properties/propertySearch" class="link-item" data-astro-cid-qlcemkia>Kaufen & Mieten</a> <a href="/subscription" class="link-item" data-astro-cid-qlcemkia>Suchvorvermerkung</a> </div> </div> <div class="footer-contact-details" data-astro-cid-qlcemkia> <a href="mailto:office@vf-immobilien.at" class="contact-line" data-astro-cid-qlcemkia> <img src="/_astro/email-icon-1.DVQ7UITX_Z1KDY5n.svg" loading="lazy" alt="Email icon" data-astro-cid-qlcemkia="true" decoding="async" fetchpriority="auto" width="18" height="16" class="contact-icon"> <div class="contact-text" data-astro-cid-qlcemkia>office@vf-immobilien.at</div> </a> <a href="tel:+436764423032" class="contact-line" data-astro-cid-qlcemkia> <img src="/_astro/phone-icon-1.g-I07rv6_1Ke2vC.svg" loading="lazy" alt="Phone icon" data-astro-cid-qlcemkia="true" decoding="async" fetchpriority="auto" width="19" height="19" class="contact-icon"> <div class="contact-text" data-astro-cid-qlcemkia>+43 676 442 30 32</div> </a> <a href="https://www.google.com/maps/search/?api=1&query=Auhofstrasse%2078C%2F1%2C%201130%20Wien" target="_blank" rel="noopener noreferrer" class="contact-line" data-astro-cid-qlcemkia> <img src="/_astro/location-icon-1.DTNUnAc6_Z1epWDM.svg" loading="lazy" alt="Location icon" data-astro-cid-qlcemkia="true" decoding="async" fetchpriority="auto" width="16" height="20" class="contact-icon"> <div class="contact-text" data-astro-cid-qlcemkia> Auhofstrasse 78C/1,<br data-astro-cid-qlcemkia> 1130 Wien </div> </a> </div> </div> </div> <div class="legal-links-container" data-astro-cid-qlcemkia> <span class="copyright-div" data-astro-cid-qlcemkia>© 2025 VF Immobilien</span> <div class="legal-links-wrapper" data-astro-cid-qlcemkia> <a href="/impressum" data-astro-cid-qlcemkia>Impressum</a> <a href="/datenschutz" data-astro-cid-qlcemkia>Datenschutz</a> <a href="/agb" data-astro-cid-qlcemkia>AGB</a> </div> </div> </footer>  <script>
      // Animation Observer Script (moved outside the non-existent loadFullCSS)
      document.addEventListener("DOMContentLoaded", () => {
        const sectionsToAnimate =
          document.querySelectorAll(".slide-in-section");

        const observerOptions = {
          root: null,
          rootMargin: "0px",
          threshold: 0.1,
        };

        const observerCallback = (entries, observer) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("is-visible");
              observer.unobserve(entry.target);
            }
          });
        };

        if (sectionsToAnimate.length > 0) {
          const sectionObserver = new IntersectionObserver(
            observerCallback,
            observerOptions
          );

          sectionsToAnimate.forEach((section) => {
            sectionObserver.observe(section);
          });
        }
      });
    </script> </body> </html>