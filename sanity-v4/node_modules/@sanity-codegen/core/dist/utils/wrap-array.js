"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.wrapArray = wrapArray;
var _createStructure = require("./create-structure");
function wrapArray(node, options) {
  switch (node.type) {
    case 'And':
    case 'Or':
      {
        return (0, _createStructure.createStructure)({
          ...node,
          children: node.children.map(child => wrapArray(child, options))
        });
      }
    case 'Lazy':
      {
        return (0, _createStructure.createStructure)({
          type: 'Lazy',
          get: () => wrapArray(node.get(), options),
          hashNamespace: 'WrapArray',
          hashInput: node.hash
        });
      }
    default:
      {
        return (0, _createStructure.createStructure)({
          ...options,
          type: 'Array',
          of: node
        });
      }
  }
}